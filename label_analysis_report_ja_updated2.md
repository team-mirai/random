# ラベル取得の不一致に関する分析レポート

## 概要

- 分析対象のPR総数: 1,589件
- ラベルの不一致があるPR: 269件 (16.93%)
- 追加されたラベル総数: 318件
- 削除されたラベル: 0件

## 時間的分布

ラベルの不一致の時間的分布を分析したところ、プロジェクト開始（2025年5月）以降の特定の日付や時間帯に集中していることが分かりました。特に5月16日から5月19日の間に多くの不一致が見られます。

![時間的分布](pr_analysis_results/label_backups/20250524_150110/analysis/temporal_distribution.png)

## ラベル分析

最も影響を受けたラベルは以下の通りです:

| ラベル | 追加件数 |
|-------|--------|
| README | 98 |
| 経済財政 | 61 |
| その他政策 | 42 |
| 行政改革 | 30 |
| 教育 | 17 |
| 子育て | 16 |
| 医療 | 16 |
| ビジョン | 14 |
| 産業政策 | 6 |
| 科学技術 | 6 |

![ラベル分布](pr_analysis_results/label_backups/20250524_150110/analysis/label_distribution.png)

## 注目すべきPR

### PR #1475

- タイトル: 政策案「２．教育」への子どもの権利尊重に関する新規提案 (IR)
- 旧ラベル: なし
- 新ラベル: 教育
- 追加されたラベル: 教育
- 削除されたラベル: なし

このPRは「教育」ラベルを持っていましたが、データ収集プロセスで正しく取得されていませんでした。

## 観察結果

分析の結果、以下の観察結果が得られました:

1. ラベルの不一致は、プロジェクト期間内の特定の日付や時間帯に集中する傾向があります。

2. 「教育」ラベルは17件のPRで正しく取得されていませんでした。これにより、教育ラベルのMarkdownファイルには176件のPRしか含まれていませんでしたが、実際には192件のPRが存在します。

3. ラベルの不一致に関連する可能性のある要因としては、以下が考えられます:
   - GitHub APIのレート制限
   - ネットワーク接続の一時的な問題
   - APIレスポンスの処理における例外
   - その他の未特定の要因

4. PR #1475を含む269件のPRで、ラベル情報が正しく取得・処理されていませんでした。

## 修正内容

1. すべてのPRラベルを再取得し、正確なラベル情報を取得しました。
2. 更新されたラベル情報を使用して、すべてのラベルのMarkdownファイルを再生成しました。
3. `last_run_info.json`ファイルがコミットされるようにワークフローを修正し、前回の実行情報が正しく保持されるようにしました。

これらの修正により、すべてのPRが正しいラベルで分類され、Markdownファイルに含まれるようになりました。
